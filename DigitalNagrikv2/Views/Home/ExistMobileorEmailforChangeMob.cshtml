@model DigitalNagrik.Models.CommonLogin
@{
    ViewBag.Title = "ExistMobileorEmailforChangeMob";
    Layout = "~/Views/Shared/_LayoutPublicCurrent.cshtml";
    Dictionary<string, string> LabelDictionary = ViewData["LabelDictionary"] as Dictionary<string, string>;
}

<div class="row">
    <div class="col-xl-8 my-3 my-lg-5 py-lg-5 text-center text-xl-start">
        @Html.Partial("~/Views/Home/_IndexImageContent.cshtml")
    </div>

    <div class="col-xl-4 my-3 my-lg-5">
        <div class="card box-shadow">
            <div class=" card-header loginpanel text-white   ">
                <div class="row">
                    <div class="col-md-12" style="text-align:left ">
                        <i id="LoginIcon" class="bi bi-phone"></i>
                        &nbsp;&nbsp;&nbsp;
                        <span id="LoginHeaderText" class="fw-bold"> @LabelDictionary["ChangeMobileNumberRequest"]</span>
                    </div>
                </div>
            </div>
            <div class="card-body " id="LoginDiv" style="min-height:250px;">
                @using (Html.BeginForm("ExistMobileorEmailforChangeMob", "Home", FormMethod.Post, new { id = "ExistMobileorEmailforChangeMob", autocomplete = "off" }))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true)


                    <div>
                        @Html.ValidationMessage("validationMessage")
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-12 ">
                            <label class="fw-bold" for="form2Example17">@LabelDictionary["EnterMobileNumber"] <span class="text-danger">*</span></label>
                            @Html.TextBoxFor(m => m.AppellantMobile, new { @class = "form-control", @maxlength = "10", @placeholder = @LabelDictionary["EnterMobileNumberPlaceHolder"] })
                            @Html.ValidationMessageFor(x => x.AppellantMobile)
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-12 ">
                            <label class="fw-bold" for="form2Example17">@LabelDictionary["EnterEmailID"] <span class="text-danger">*</span></label>
                            @Html.TextBoxFor(m => m.AppellantEmailID, new { @class = "form-control", @maxlength = "100", @placeholder = @LabelDictionary["EnterEmailID"] })
                            @Html.ValidationMessageFor(x => x.AppellantEmailID)
                        </div>
                    </div>
                    <div class="mt-4 row">
                        <div class="col-md-9">
                            <label class="custom-input-label mb-1">@LabelDictionary["Captcha"]<span class="text-danger">*</span></label>
                            <div class="input-group">
                                <span class="input-group-text" id="basic-addon1">
                                    <img id="CaptchaImage" alt="Captcha" src="@Url.Action("CaptchaImageNew", "Home", new { Area = "" })" />
                                    <a title="Click to refresh Captcha" onclick="RefreshCaptcha()"><i class="fa fa-refresh ms-2" aria-hidden="true"></i></a>
                                </span>
                                @Html.TextBoxFor(x => x.Captcha, new { @id = "txtCaptcha", @class = "form-control DisabledInputs", placeholder = @LabelDictionary["EnterCaptchaPlaceHolder"], autocomplete = "off", maxlength = "6" })
                            </div>
                            <div id="SpanCaptchaValidation">
                                @Html.ValidationMessageFor(x => x.Captcha)
                            </div>
                        </div>

                    </div>

                    <br />
                    <div class="row">
                        <div class="col-3">
                            <a class="btn btn-loginpanel btn-block" style="width:75px;" href="@Url.Action("Index", "Home", new { Area = "" })">@LabelDictionary["Cancel"]</a>

                        </div>

                        <div class="col-sm-5">
                            <button type="button" class="btn btn-loginpanel" id="btnSendOTP">@LabelDictionary["SendOTP"]</button>
                        </div>

                    </div>


                }
            </div>
        </div>

    </div>


</div>

<script>
    $(document).ready(function () {
        RefreshCaptcha();
    });

    function RefreshCaptcha() {
        $("#CaptchaImage").attr("src", '@Url.Action("CaptchaImageNew", "Home", new { area = "" })?' + new Date().getTime());
    };
    $("#btnSendOTP").click(function () {
        if ($("#ExistMobileorEmailforChangeMob").valid()) {
            $('#ExistMobileorEmailforChangeMob').submit();
        };
    });
</script>
