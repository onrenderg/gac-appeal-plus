@model DigitalNagrik.Areas.Masters.Data.LabelDataMaster
@{
    var List = Model.LabelList.GroupBy(x => new { x.ModuleID, x.FormID, x.LabelKey });
    if (List.Count() > 0)
    {
        <hr class="m-0 mt-3" />
        <div class="row m-2">
            <div class="col-12 overflow-auto">
                <table id="tableAppList" class="table table-bordered align-top table-responsive">
                    <thead>
                        <tr class="table-primary">
                            <th scope="col" width="1%"> Sl.No</th>
                            <th scope="col" width="15%">Module Name</th>
                            <th scope="col" width="15%">Form Name</th>
                            <th scope="col" width="20%">Label Key</th>
                            <th scope="col" width="49%">Label Value</th>
                        </tr>
                    </thead>
                    <tbody class="bg-light">
                        @{
                            int counter = 1;
                        }
                        @foreach (var row in List)
                        {
                            var ListofData = row.ToList();
                            var ModuleID = ListofData[0].ModuleID;
                            var FormID = ListofData[0].FormID;
                            var LabelKey = ListofData[0].LabelKey;
                            var FormName = ListofData[0].FormName;
                            var ModuleName = ListofData[0].ModuleName;
                            var OtherLanguages = ListofData.Where(x => (x.ModuleID == ModuleID && x.FormID == FormID && x.LabelKey == LabelKey));
                            <tr>
                                <td class="text-center">@counter</td>
                                <td>
                                    <span>@ModuleName</span>
                                </td>
                                <td>
                                    <span>@FormName</span>

                                </td>
                                <td>
                                    <span>@LabelKey</span>
                                </td>
                                <td>
                                    @if (OtherLanguages.Count() > 0)
                                    {
                                        foreach (var otherlangMenu in OtherLanguages)
                                        {
                                            <div>
                                                <span class="badge bg-label-primary">@otherlangMenu.LanguageName</span><span> - </span><span>@Html.Raw(otherlangMenu.LabelValue)</span>
                                                <a class="badge bg-label-info" href="javascript:void(0);" title="Add New Language" onclick="NewAction('@ModuleID','@FormID','@otherlangMenu.LanguageCode','@LabelKey','E')"><i class="bx bx-edit me-1"></i>Edit</a>
                                            </div>
                                        }
                                        <a class="btn btn-success text-white btn-sm mt-1" href="javascript:void(0);" title="Add New Language" onclick="NewAction('@ModuleID','@FormID','0','@LabelKey','A')"><i class="bx bx-plus-circle align-middle me-1"></i>Add New Language</a>
                                    }
                                </td>

                            </tr>
                            counter = counter + 1;
                        }
                        <script>
                            $(document).ready(function () {
                                $("#tableAppList").DataTable()
                            });
                        </script>
                    </tbody>
                </table>
            </div>
        </div>
    }
    else
    {
        <hr />
        <div class="text-center">
            <h4 class="mt-5">
                <span><i class="bx bx-data opacity-50 h1"></i></span><br />
                <span>No Record(s) Found</span>
            </h4>
        </div>

    }
}
